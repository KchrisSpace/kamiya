# 头像上传功能说明

## 功能说明

个人中心页面现在支持通过上传本地图片来更改头像。上传的图片会保存到 `public/images/users/avater/` 目录。

## 启动说明

### 方式一：分别启动（推荐用于开发）

1. 启动 JSON Server（数据服务器）：
   ```bash
   npm run start
   ```

2. 启动文件上传服务器：
   ```bash
   npm run upload-server
   ```

3. 启动前端开发服务器：
   ```bash
   npm run dev
   ```

### 方式二：一键启动所有服务

```bash
npm run dev:all
```

这会同时启动：
- 前端开发服务器（Vite）
- JSON Server（端口 3001）
- 文件上传服务器（端口 3002）

## 使用说明

1. 登录后进入个人中心页面
2. 点击头像右下角的相机图标
3. 在弹出对话框中选择：
   - **方式一**：点击"选择图片"按钮，从本地选择图片文件上传
   - **方式二**：在输入框中输入头像 URL 链接
4. 点击"保存"按钮完成头像更新

## 支持的图片格式

- JPEG / JPG
- PNG
- GIF
- WebP

## 文件大小限制

最大 5MB

## 注意事项

- 上传的图片会以 `用户ID_时间戳.扩展名` 的格式命名
- 图片保存在 `public/images/users/avater/` 目录
- 如果上传失败，请确保文件上传服务器正在运行（端口 3002）

