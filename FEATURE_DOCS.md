# Kamiya 花卉商城 - 功能文档

## 项目简介

Kamiya 是一个功能完整的电商平台，专注于花卉和蛋糕类商品的在线销售。系统分为前端用户界面和管理后台两部分，提供完整的购物流程和管理功能。

## 用户端功能

### 1. 首页 (Homepage)

#### 功能描述

- 展示轮播图，展示热门商品和促销信息
- 商品分类展示（热销、上新、特价出售）
- 快速浏览商品卡片
- 商品快速预览和跳转

#### 主要组件

- `Carousel.vue` - 轮播图组件
- `SalesCard.vue` - 商品卡片组件

#### 功能特点

- 响应式轮播展示
- 商品分类标签切换
- 商品卡片悬停效果
- 快速跳转到商品详情

---

### 2. 商店 (Store)

#### 功能描述

商品浏览和筛选页面，提供丰富的筛选功能帮助用户快速找到心仪商品。

#### 核心功能

##### 2.1 商品搜索

- **搜索框**：支持商品名称、关键词、描述搜索
- **实时搜索**：输入时自动触发搜索（防抖处理）
- **搜索结果高亮**：匹配的关键词高亮显示

##### 2.2 价格筛选

- **价格滑块**：范围选择器（¥0 - ¥600）
- **实时筛选**：拖动滑块即时更新商品列表
- **价格显示**：显示当前选择的价格范围

##### 2.3 类别筛选

- **类别选项**：
  - 全部：显示所有商品
  - 单品：单个商品
  - 冷品：需要冷藏的商品
  - 暖品：需要加热的商品
  - 套餐：组合套餐
- **切换效果**：点击类别按钮即时筛选
- **状态保持**：选中的类别高亮显示

##### 2.4 商品展示

- **网格布局**：响应式商品卡片网格
- **商品信息**：
  - 商品图片
  - 商品名称
  - 当前价格（红色显示）
  - 原价（删除线显示）
  - 促销标签（Hot、折扣等）
  - 冷藏标签（如适用）
- **悬停效果**：鼠标悬停显示更多信息

#### 主要组件

- `Store.vue` - 商店主页面
- `goods.vue` - 商品卡片组件
- `product-detail.vue` - 商品详情弹窗

#### 交互流程

1. 用户进入商店页面
2. 可选择使用搜索、价格筛选或类别筛选
3. 筛选条件可组合使用
4. 点击商品卡片查看详情
5. 在详情页可加入购物车

---

### 3. 商品详情 (Product Detail)

#### 功能描述

展示商品的详细信息，支持加入购物车操作。

#### 核心功能

- **商品图片展示**：高清商品图片
- **商品信息**：
  - 商品名称
  - 价格信息（原价、现价）
  - 商品描述
  - 材料说明
  - 关键词标签
- **数量选择**：数量增减按钮
- **加入购物车**：将商品添加到购物车
- **关闭弹窗**：返回商品列表

#### 主要组件

- `product-detail.vue` - 商品详情弹窗组件

---

### 4. 购物车 (Cart)

#### 功能描述

管理用户已添加的商品，支持数量调整、删除和结算。

#### 核心功能

##### 4.1 商品管理

- **商品列表**：显示已添加的所有商品
- **商品信息**：
  - 商品图片
  - 商品名称
  - 单价
  - 数量选择器
  - 小计金额
- **数量调整**：
  - 增加按钮（+）
  - 减少按钮（-）
  - 直接输入数量
  - 最小数量限制（≥1）

##### 4.2 购物车操作

- **删除商品**：移除不需要的商品
- **数量更新**：实时更新商品数量
- **总价计算**：自动计算购物车总价
- **空购物车提示**：购物车为空时显示提示信息

##### 4.3 结算功能

- **订单总计**：显示订单总金额
- **创建订单**：跳转到订单创建页面
- **固定结算栏**：页面底部固定显示结算信息

#### 主要组件

- `cart.vue` - 购物车主页面

#### 数据持久化

- 购物车数据保存在 localStorage
- 页面刷新后数据不丢失
- 与后端 API 同步

---

### 5. 订单管理 (Order)

#### 功能描述

查看和管理用户的订单信息。

#### 核心功能

##### 5.1 订单列表

- **订单展示**：显示所有历史订单
- **订单信息**：
  - 订单编号
  - 订单日期
  - 商品列表
  - 订单状态
  - 订单总价
- **订单状态**：
  - 待支付
  - 已支付
  - 已发货
  - 已完成
  - 已取消

##### 5.2 订单操作

- **查看详情**：查看订单详细信息
- **重新购买**：将订单商品加入购物车
- **订单筛选**：按状态筛选订单

##### 5.3 创建订单

- **订单确认**：确认订单信息
- **订单提交**：提交订单并生成订单号

#### 主要组件

- `order.vue` - 订单列表页面
- `create-order.vue` - 创建订单页面

---

### 6. 用户系统

#### 6.1 用户注册

##### 功能描述

新用户注册账号。

##### 核心功能

- **注册表单**：
  - 用户名输入
  - 密码设置
  - 确认密码
  - 昵称设置
  - 头像上传（可选）
- **表单验证**：
  - 必填项验证
  - 密码强度验证
  - 密码一致性验证
- **注册成功**：跳转到登录页面

#### 6.2 用户登录

##### 功能描述

用户登录系统。

##### 核心功能

- **登录表单**：
  - 用户名输入
  - 密码输入
  - 记住我选项
- **登录验证**：
  - 用户名密码验证
  - 错误提示
- **登录成功**：
  - 保存用户信息
  - 保存 Token
  - 跳转到首页或原页面

##### 管理员登录

- 管理员账号：`admin` / `000000`
- 登录后进入管理后台

#### 6.3 用户信息

- **个人中心**：查看和编辑个人信息
- **头像显示**：用户头像展示
- **昵称显示**：用户昵称展示

---

### 7. 关于我们 (About)

#### 功能描述

展示品牌信息、服务承诺、联系方式等。

#### 核心功能

- **品牌介绍**：品牌故事和理念
- **服务承诺**：服务保障说明
- **配送政策**：配送范围和时效
- **联系方式**：客服联系方式
- **用户反馈**：反馈表单
- **感谢页面**：提交反馈后的感谢页面

#### 主要组件

- `about.vue` - 关于我们主页面
- `BrandIntro.vue` - 品牌介绍
- `ServiceCommitment.vue` - 服务承诺
- `ShippingPolicy.vue` - 配送政策
- `ContactInfo.vue` - 联系方式
- `feedback.vue` - 反馈表单
- `thanks.vue` - 感谢页面

---

### 8. 定制页面 (Customize)

#### 功能描述

商品定制功能页面（可根据需求扩展）。

---

## 管理后台功能

### 1. 仪表盘 (Dashboard)

#### 功能描述

管理员首页，展示系统概览和统计数据。

#### 核心功能

- **统计卡片**：
  - 总销售额
  - 订单总数
  - 商品总数
  - 用户总数
- **销售图表**：
  - 销售额趋势图
  - 订单量统计
  - 使用 ECharts 可视化
- **热门商品**：
  - 销量排行榜
  - 销售额排行榜

#### 主要组件

- `dashboard.vue` - 仪表盘主页面
- `StatCard.vue` - 统计卡片
- `SalesChart.vue` - 销售图表
- `HotProductList.vue` - 热门商品列表

---

### 2. 商品管理 (Products)

#### 功能描述

管理平台商品信息。

#### 核心功能

##### 2.1 商品列表

- **商品展示**：表格形式展示所有商品
- **商品信息**：
  - 商品 ID
  - 商品名称
  - 商品图片
  - 分类
  - 价格
  - 库存
  - 状态
- **筛选功能**：
  - 按商品名称搜索
  - 按分类筛选
- **分页显示**：支持分页浏览

##### 2.2 商品操作

- **添加商品**：创建新商品
- **编辑商品**：修改商品信息
- **删除商品**：删除不需要的商品
- **商品状态**：启用/禁用商品

##### 2.3 商品表单

- **基本信息**：
  - 商品名称
  - 商品分类
  - 商品图片
  - 价格设置（原价、现价）
- **详细信息**：
  - 商品描述
  - 材料说明
  - 关键词标签
  - 促销设置
- **库存管理**：设置商品库存

#### 主要组件

- `products.vue` - 商品管理主页面
- `ProductForm.vue` - 商品表单组件

---

### 3. 订单管理 (Orders)

#### 功能描述

管理平台所有订单。

#### 核心功能

##### 3.1 订单列表

- **订单展示**：表格形式展示所有订单
- **订单信息**：
  - 订单编号
  - 用户信息
  - 商品列表
  - 订单金额
  - 订单状态
  - 创建时间
- **订单筛选**：
  - 按订单状态筛选
  - 按日期范围筛选
  - 按用户搜索

##### 3.2 订单操作

- **查看详情**：查看订单完整信息
- **订单状态更新**：
  - 待支付 → 已支付
  - 已支付 → 已发货
  - 已发货 → 已完成
- **订单备注**：添加订单备注

##### 3.3 订单详情

- **订单基本信息**：订单号、时间、状态
- **用户信息**：收货人、联系方式
- **商品列表**：订单包含的所有商品
- **价格明细**：商品价格、运费、总价
- **配送信息**：取餐时间

#### 主要组件

- `orders.vue` - 订单管理主页面
- `OrderDetail.vue` - 订单详情组件

---

### 4. 用户管理 (Users)

#### 功能描述

管理系统用户信息。

#### 核心功能

- **用户列表**：展示所有注册用户
- **用户信息**：
  - 用户 ID
  - 用户名
  - 昵称
  - 头像
  - 注册时间
- **用户操作**：
  - 查看用户详情
  - 编辑用户信息
  - 禁用/启用用户

---

### 5. 系统设置 (Settings)

#### 功能描述

系统配置和参数设置。

#### 核心功能

- **基础设置**：系统基本信息
- **参数配置**：系统参数调整
- **其他设置**：扩展功能设置

---

## 数据模型

### 用户 (User)

```json
{
  "id": "user1",
  "username": "user1",
  "password": "000000",
  "user-info": {
    "nickname": "花花",
    "avatar": "avatar_url"
  }
}
```

### 商品 (Product)

```json
{
  "id": "P01",
  "main_category": "热销",
  "category": "单品",
  "images": "image_url",
  "title": "商品名称",
  "price_info": {
    "original_price": 399,
    "current_price": 259.9
  },
  "promotion": {
    "is_hot": true,
    "material": "材料说明",
    "keywords": ["关键词1", "关键词2"]
  }
}
```

### 购物车 (Cart)

```json
{
  "id": "cart_item_id",
  "product": {
    /* 商品信息 */
  },
  "quantity": 2
}
```

### 订单 (Order)

```json
{
  "id": "order_id",
  "user_id": "user1",
  "items": [
    /* 订单商品 */
  ],
  "total_price": 599.8,
  "status": "待支付",
  "created_at": "2025-01-01T00:00:00Z"
}
```

---

## 功能流程图

### 购物流程

```
首页 → 商店浏览 → 商品详情 → 加入购物车 → 购物车管理 → 创建订单 → 订单确认 → 订单完成
```

### 管理流程

```
管理员登录 → 仪表盘 → 商品管理/订单管理/用户管理 → 数据操作 → 保存更新
```

---

## 使用说明

### 普通用户

1. **浏览商品**：在首页或商店页面浏览商品
2. **搜索筛选**：使用搜索、价格、类别筛选找到心仪商品
3. **查看详情**：点击商品查看详细信息
4. **加入购物车**：选择数量后加入购物车
5. **管理购物车**：在购物车页面调整数量或删除商品
6. **创建订单**：确认商品后创建订单
7. **查看订单**：在订单页面查看订单状态

### 管理员

1. **登录后台**：使用管理员账号登录
2. **查看数据**：在仪表盘查看统计数据
3. **管理商品**：添加、编辑、删除商品
4. **管理订单**：查看和处理订单
5. **管理用户**：查看和管理用户信息

---

## 注意事项

1. **数据持久化**：购物车数据保存在浏览器 localStorage，清除缓存会丢失数据
2. **API 地址**：开发环境使用 `http://localhost:3001`，生产环境需配置实际 API
3. **权限控制**：管理后台需要管理员权限才能访问
4. **数据同步**：购物车数据会与后端 API 同步，确保数据一致性

---

## 更新日志

### v1.0.0 (当前版本)

- ✅ 完整的商品浏览和筛选功能
- ✅ 购物车管理功能
- ✅ 订单创建和管理
- ✅ 用户注册和登录
- ✅ 管理后台基础功能
- ✅ 响应式设计

---

## 技术支持

如有功能问题或建议，请联系开发团队或提交 Issue。
